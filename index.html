<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мінігра</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: green;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        
        .game-container {
            text-align: center;
        }

        .record {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
            color: white;
        }

        .spray-image {
            width: 200px;
            height: auto;
            cursor: pointer;
        }

        /* Стиль для сірої таблички, яка займає весь екран */
        .inactive-message {
            display: none;
            background-color: grey;
            color: white;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="record">Рекорд: 0</div>
        <img src="img/spray_cartoon_starr.png" alt="Spray Image" class="spray-image" onclick="handleClick()">
    </div>

    <!-- Сіра табличка з повідомленням для неактивного сервера -->
    <div id="inactive-message" class="inactive-message">
        Технічна перерва приблизний час очікування 2 години.
    </div>

    <script>
        // Вбудований JSON об'єкт для зберігання статусу гри та рекорду
        const gameData = {
            "record": 0, // Початковий рекорд
            "game_status": "inactive" // Може бути "active" або "inactive"
        };

        // Оновлення рекорду
        function updateRecord(newRecord) {
            gameData.record = newRecord;
            document.querySelector('.record').textContent = `Рекорд: ${gameData.record}`;
        }

        // Функція обробки кліку по зображенню
        function handleClick() {
            gameData.record += 1; // Збільшуємо рекорд на 1 за кожен клік
            updateRecord(gameData.record); // Оновлюємо рекорд на екрані
        }

        // Функція перевірки статусу гри
        function checkGameStatus() {
            if (gameData.game_status === "inactive") {
                // Показуємо повідомлення про неактивний статус
                document.getElementById('inactive-message').style.display = 'flex';
            } else {
                // Приховуємо повідомлення, якщо статус активний
                document.getElementById('inactive-message').style.display = 'none';
            }
        }

        // Перевіряємо статус гри при завантаженні
        window.onload = checkGameStatus;
    </script>
</body>
</html>
